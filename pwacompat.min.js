(function(){function B(a){try{return document.head.querySelector(a)}catch(c){return null}}function v(a,c){var b="__pwacompat_"+a;void 0!==c&&(w[b]=c);return w[b]}function F(){var a=(x=B('link[rel="manifest"]'))?x.href:"";if(!a)throw'can\'t find <link rel="manifest" href=".." />\'';var c=R([a,location]),b=v("manifest");if(b)try{var g=JSON.parse(b);G(g,c)}catch(r){console.warn("PWACompat error",r)}else{var n=new XMLHttpRequest;n.open("GET",a);n.withCredentials="use-credentials"===x.getAttribute("crossorigin");
n.onload=function(){try{var r=JSON.parse(n.responseText);v("manifest",n.responseText);G(r,c)}catch(t){console.warn("PWACompat error",t)}};n.send(null)}}function R(a){for(var c={},b=0;b<a.length;c={h:c.h},++b){c.h=a[b];try{return new URL("",c.h),function(g){return function(n){return(new URL(n||"",g.h)).toString()}}(c)}catch(g){}}return function(g){return g||""}}function C(a,c,b){if(!B(a+b)){a=document.createElement(a);for(var g in c)a.setAttribute(g,c[g]);document.head.appendChild(a);return a}}function k(a,
c){c&&(!0===c&&(c="yes"),C("meta",{name:a,content:c},'[name="'+a+'"]'))}function S(a){var c=a.sizes.split(/\s+/g).map(function(b){return"any"===b?Infinity:parseInt(b,10)||0});return{src:a.src,type:a.type,sizes:a.sizes,m:Math.max.apply(null,c),j:a.j?a.j.split(/\s+/g):["any"]}}function G(a,c){function b(f,d,h,m){var e=window.devicePixelRatio,l=D({width:f*e,height:d*e});l.scale(e,e);l.fillStyle=y;l.fillRect(0,0,f,d);l.translate(f/2,(d-20)/2);m&&(d=m.width/e,e=m.height/e,128<e&&(d/=e/128,e=128),48<=d&&
48<=e&&(l.drawImage(m,d/-2,e/-2,d,e),l.translate(0,e/2+20)));l.fillStyle=T?"white":"black";l.font="24px HelveticaNeue-CondensedBold";l.font=H.getPropertyValue("--pwacompat-splash-font");e=a.name||a.short_name||document.title;d=l.measureText(e);m=d.v||24;l.translate(0,m);if(d.width<.8*f)l.fillText(e,d.width/-2,0);else for(e=e.split(/\s+/g),d=1;d<=e.length;++d){var I=e.slice(0,d).join(" "),J=l.measureText(I).width;if(d===e.length||J>.6*f)l.fillText(I,J/-2,0),l.translate(0,1.2*m),e.splice(0,d),d=0}return function(){var K=
l.canvas.toDataURL();g(h,K);return K}}function g(f,d){var h=document.createElement("link");h.setAttribute("rel","apple-touch-startup-image");h.setAttribute("media","(orientation: "+f+")");h.setAttribute("href",d);document.head.appendChild(h)}function n(f,d){var h=window.screen,m=b(h.width,h.height,"portrait",f),e=b(h.height,h.width,"landscape",f);setTimeout(function(){u.p=m();setTimeout(function(){u.l=e();d()},10)},10)}function r(f){function d(){--h||f()}var h=z.length+1;d();z.forEach(function(m){var e=
new Image;e.crossOrigin="anonymous";e.onerror=d;e.onload=function(){e.onload=null;m.href=L(e,y,!0);u.i[e.src]=m.href;d()};e.src=m.href})}function t(){v("iOS",JSON.stringify(u))}function M(){var f=z.shift();if(f){var d=new Image;d.crossOrigin="anonymous";d.onerror=function(){return void M()};d.onload=function(){d.onload=null;n(d,function(){var h=a.background_color&&L(d,y);h?(f.href=h,u.i[d.src]=h,r(t)):t()})};d.src=f.href}else n(null,t)}var p=(a.icons||[]).map(S).sort(function(f,d){return d.m-f.m}),
q=p.filter(function(f){return-1<f.j.indexOf("any")});p=p.filter(function(f){return-1<f.j.indexOf("maskable")});var z=(0<p.length?p:q).map(function(f){var d={rel:"icon",href:c(f.src),sizes:f.sizes},h='[sizes="'+f.sizes+'"]';C("link",d,'[rel="icon"]'+h);if(A&&!(120>f.m))return d.rel="apple-touch-icon",C("link",d,'[rel="apple-touch-icon"]'+h)}).filter(Boolean);p=B('meta[name="viewport"]');var U=!!(p&&p.content||"").match(/\bviewport-fit\s*=\s*cover\b/),N=a.display;p=-1!==V.indexOf(N);k("mobile-web-app-capable",
p);W(a.theme_color||"black",U);X&&(k("application-name",a.short_name),k("msapplication-tooltip",a.description),k("msapplication-starturl",c(a.start_url||".")),k("msapplication-navbutton-color",a.theme_color),(q=q[0])&&k("msapplication-TileImage",c(q.src)),k("msapplication-TileColor",a.background_color));k("theme-color",a.theme_color);if(A){var H=getComputedStyle(x),y=H.getPropertyValue("--pwacompat-override-background")||a.background_color||"#f8f9fa",T=O(y);(q=Y(a.related_applications))&&k("apple-itunes-app",
"app-id="+q);k("apple-mobile-web-app-capable",p);k("apple-mobile-web-app-title",a.short_name||a.name);if(q=v("iOS"))try{var E=JSON.parse(q);g("portrait",E.p);g("landscape",E.l);z.forEach(function(f){var d=E.i[f.href];d&&(f.href=d)});return}catch(f){}var u={i:{}};M()}else q={por:"portrait",lan:"landscape"}[String(a.orientation||"").substr(0,3)]||"",k("x5-orientation",q),k("screen-orientation",q),"fullscreen"===N?(k("x5-fullscreen","true"),k("full-screen","yes")):p&&(k("x5-page-mode","app"),k("browsermode",
"application"))}function Y(a){var c;(a||[]).filter(function(b){return"itunes"===b.platform}).forEach(function(b){b.id?c=b.id:(b=b.url.match(/id(\d+)/))&&(c=b[1])});return c}function W(a,c){if(A||Z){var b=O(a);if(A)k("apple-mobile-web-app-status-bar-style",c?"black-translucent":b?"black":"default");else{a:{try{var g=Windows.s.u.o.B().D;break a}catch(n){}g=void 0}g&&(b=b?255:0,g.A={r:b,g:b,b:b,a:255},b=P(a),g.backgroundColor={r:b[0],g:b[1],b:b[2],a:b[3]})}}}function P(a){var c=D();c.fillStyle=a;c.fillRect(0,
0,1,1);return c.getImageData(0,0,1,1).data||[]}function O(a){a=P(a).map(function(c){c/=255;return.03928>c?c/12.92:Math.pow((c+.055)/1.055,2.4)});return 3<Math.abs(1.05/(.2126*a[0]+.7152*a[1]+.0722*a[2]+.05))}function L(a,c,b){b=void 0===b?!1:b;var g=D(a);g.drawImage(a,0,0);if(b||255!==g.getImageData(0,0,1,1).data[3])return g.globalCompositeOperation="destination-over",g.fillStyle=c,g.fillRect(0,0,a.width,a.height),g.canvas.toDataURL()}function D(a){a=void 0===a?{width:1,height:1}:a;var c=a.height,
b=document.createElement("canvas");b.width=a.width;b.height=c;return b.getContext("2d")}if("onload"in XMLHttpRequest.prototype&&!navigator.C){var V=["standalone","fullscreen","minimal-ui"],Q=navigator.userAgent||"",A=navigator.vendor&&-1!==navigator.vendor.indexOf("Apple")&&(-1!==Q.indexOf("Mobile/")||"standalone"in navigator)||!1,X=!!Q.match(/(MSIE |Edge\/|Trident\/)/),Z="undefined"!==typeof Windows,x;try{var w=sessionStorage}catch(a){}w=w||{};"complete"===document.readyState?F():window.addEventListener("load",
F)}})();