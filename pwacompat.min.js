(function(){function C(a){try{return document.head.querySelector(a)}catch(c){return null}}function w(a,c){var b="__pwacompat_"+a;void 0!==c&&(x[b]=c);return x[b]}function G(){var a=(y=C('link[rel="manifest"]'))?y.href:"";if(!a)throw'can\'t find <link rel="manifest" href=".." />\'';var c=Q([a,location]),b=w("manifest");if(b)try{var f=JSON.parse(b);H(f,c)}catch(t){console.warn("PWACompat error",t)}else{var p=new XMLHttpRequest;p.open("GET",a);p.withCredentials="use-credentials"===y.getAttribute("crossorigin");
p.onload=function(){try{var t=JSON.parse(p.responseText);w("manifest",p.responseText);H(t,c)}catch(u){console.warn("PWACompat error",u)}};p.send(null)}}function Q(a){for(var c={},b=0;b<a.length;c={h:c.h},++b){c.h=a[b];try{return new URL("",c.h),function(f){return function(p){return(new URL(p||"",f.h)).toString()}}(c)}catch(f){}}return function(f){return f||""}}function D(a,c,b){if(!C(a+b)){a=document.createElement(a);for(var f in c)a.setAttribute(f,c[f]);document.head.appendChild(a);return a}}function l(a,
c){c&&(!0===c&&(c="yes"),D("meta",{name:a,content:c},'[name="'+a+'"]'))}function R(a){var c=a.sizes.split(/\s+/g).map(function(b){return"any"===b?Infinity:parseInt(b,10)||0});return{src:a.src,type:a.type,sizes:a.sizes,m:Math.max.apply(null,c),j:a.j?a.j.split(/\s+/g):["any"]}}function H(a,c){function b(e,d,k,n){var h=getComputedStyle(y),g=window.devicePixelRatio,m=E({width:e*g,height:d*g});m.scale(g,g);m.fillStyle=h.getPropertyValue("--pwacompat-override-background")||z;m.fillRect(0,0,e,d);m.translate(e/
2,(d-20)/2);n&&(d=n.width/g,g=n.height/g,128<g&&(d/=g/128,g=128),48<=d&&48<=g&&(m.drawImage(n,d/-2,g/-2,d,g),m.translate(0,g/2+20)));m.fillStyle=S?"white":"black";m.font="24px HelveticaNeue-CondensedBold";m.font=h.getPropertyValue("--pwacompat-splash-font");h=a.name||a.short_name||document.title;g=m.measureText(h);n=g.v||24;m.translate(0,n);if(g.width<.8*e)m.fillText(h,g.width/-2,0);else for(h=h.split(/\s+/g),g=1;g<=h.length;++g){d=h.slice(0,g).join(" ");var I=m.measureText(d).width;if(g===h.length||
I>.6*e)m.fillText(d,I/-2,0),m.translate(0,1.2*n),h.splice(0,g),g=0}return function(){var J=m.canvas.toDataURL();f(k,J);return J}}function f(e,d){var k=document.createElement("link");k.setAttribute("rel","apple-touch-startup-image");k.setAttribute("media","(orientation: "+e+")");k.setAttribute("href",d);document.head.appendChild(k)}function p(e,d){var k=window.screen,n=b(k.width,k.height,"portrait",e),h=b(k.height,k.width,"landscape",e);setTimeout(function(){v.p=n();setTimeout(function(){v.l=h();d()},
10)},10)}function t(e){function d(){--k||e()}var k=A.length+1;d();A.forEach(function(n){var h=new Image;h.crossOrigin="anonymous";h.onerror=d;h.onload=function(){h.onload=null;n.href=K(h,z,!0);v.i[h.src]=n.href;d()};h.src=n.href})}function u(){w("iOS",JSON.stringify(v))}function L(){var e=A.shift();if(e){var d=new Image;d.crossOrigin="anonymous";d.onerror=function(){return void L()};d.onload=function(){d.onload=null;p(d,function(){var k=a.background_color&&K(d,z);k?(e.href=k,v.i[d.src]=k,t(u)):u()})};
d.src=e.href}else p(null,u)}var q=(a.icons||[]).map(R).sort(function(e,d){return d.m-e.m}),r=q.filter(function(e){return-1<e.j.indexOf("any")});q=q.filter(function(e){return-1<e.j.indexOf("maskable")});var A=(0<q.length?q:r).map(function(e){var d={rel:"icon",href:c(e.src),sizes:e.sizes},k='[sizes="'+e.sizes+'"]';D("link",d,'[rel="icon"]'+k);if(B&&!(120>e.m))return d.rel="apple-touch-icon",D("link",d,'[rel="apple-touch-icon"]'+k)}).filter(Boolean);q=C('meta[name="viewport"]');var T=!!(q&&q.content||
"").match(/\bviewport-fit\s*=\s*cover\b/),M=a.display;q=-1!==U.indexOf(M);l("mobile-web-app-capable",q);V(a.theme_color||"black",T);W&&(l("application-name",a.short_name),l("msapplication-tooltip",a.description),l("msapplication-starturl",c(a.start_url||".")),l("msapplication-navbutton-color",a.theme_color),(r=r[0])&&l("msapplication-TileImage",c(r.src)),l("msapplication-TileColor",a.background_color));l("theme-color",a.theme_color);if(B){var z=a.background_color||"#f8f9fa",S=N(z);(r=X(a.related_applications))&&
l("apple-itunes-app","app-id="+r);l("apple-mobile-web-app-capable",q);l("apple-mobile-web-app-title",a.short_name||a.name);if(r=w("iOS"))try{var F=JSON.parse(r);f("portrait",F.p);f("landscape",F.l);A.forEach(function(e){var d=F.i[e.href];d&&(e.href=d)});return}catch(e){}var v={i:{}};L()}else r={por:"portrait",lan:"landscape"}[String(a.orientation||"").substr(0,3)]||"",l("x5-orientation",r),l("screen-orientation",r),"fullscreen"===M?(l("x5-fullscreen","true"),l("full-screen","yes")):q&&(l("x5-page-mode",
"app"),l("browsermode","application"))}function X(a){var c;(a||[]).filter(function(b){return"itunes"===b.platform}).forEach(function(b){b.id?c=b.id:(b=b.url.match(/id(\d+)/))&&(c=b[1])});return c}function V(a,c){if(B||Y){var b=N(a);if(B)l("apple-mobile-web-app-status-bar-style",c?"black-translucent":b?"black":"default");else{a:{try{var f=Windows.s.u.o.B().D;break a}catch(p){}f=void 0}f&&(b=b?255:0,f.A={r:b,g:b,b:b,a:255},b=O(a),f.backgroundColor={r:b[0],g:b[1],b:b[2],a:b[3]})}}}function O(a){var c=
E();c.fillStyle=a;c.fillRect(0,0,1,1);return c.getImageData(0,0,1,1).data||[]}function N(a){a=O(a).map(function(c){c/=255;return.03928>c?c/12.92:Math.pow((c+.055)/1.055,2.4)});return 3<Math.abs(1.05/(.2126*a[0]+.7152*a[1]+.0722*a[2]+.05))}function K(a,c,b){b=void 0===b?!1:b;var f=E(a);f.drawImage(a,0,0);if(b||255!==f.getImageData(0,0,1,1).data[3])return f.globalCompositeOperation="destination-over",f.fillStyle=c,f.fillRect(0,0,a.width,a.height),f.canvas.toDataURL()}function E(a){a=void 0===a?{width:1,
height:1}:a;var c=a.height,b=document.createElement("canvas");b.width=a.width;b.height=c;return b.getContext("2d")}if("onload"in XMLHttpRequest.prototype&&!navigator.C){var U=["standalone","fullscreen","minimal-ui"],P=navigator.userAgent||"",B=navigator.vendor&&-1!==navigator.vendor.indexOf("Apple")&&(-1!==P.indexOf("Mobile/")||"standalone"in navigator)||!1,W=!!P.match(/(MSIE |Edge\/|Trident\/)/),Y="undefined"!==typeof Windows,y;try{var x=sessionStorage}catch(a){}x=x||{};"complete"===document.readyState?
G():window.addEventListener("load",G)}})();